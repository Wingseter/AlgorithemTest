n, m = map(int, input().split())

paper = [[0 for col in range(511)] for row in range(511)]

answer = 0

figure = [
    [[0, 0], [0, 1], [1, 0], [1, 1]],  # 1
    [[0, 0], [0, 1], [0, 2], [0, 3]],  # 2
    [[0, 0], [1, 0], [2, 0], [3, 0]],  # 3
    [[0, 0], [0, 1], [0, 2], [-1, 2]],  # 4
    [[0, 0], [1, 0], [2, 0], [2, 1]],  # 5
    [[0, 0], [1, 0], [0, 1], [0, 2]],  # 6
    [[0, 0], [0, 1], [1, 1], [2, 1]],  # 7
    [[0, 0], [0, 1], [-1, 1], [-1, 2]],  # 8
    [[0, 0], [1, 0], [1, 1], [2, 1]],  # 9
    [[0, 0], [0, 1], [0, 2], [-1, 1]],  # 10
    [[0, 0], [1, 0], [2, 0], [1, 1]],  # 11
    [[0, 0], [0, 1], [0, 2], [1, 1]],  # 12
    [[0, 0], [0, 1], [-1, 1], [1, 1]],  # 13
    [[0, 0], [0, 1], [1, 1], [1, 2]],  # 14
    [[0, 0], [1, 0], [1, -1], [2, -1]],  # 15
    [[0, 0], [1, 0], [1, 1], [1, 2]],  # 16
    [[0, 0], [0, 1], [1, 0], [2, 0]],  # 17
    [[0, 0], [0, 1], [0, 2], [1, 2]],  # 18
    [[0, 0], [1, 0], [2, 0], [2, -1]],  # 19
]

for i in range(1, n + 1):
    row = list(map(int, input().split()))
    for j in range(1, m+1):
        paper[i][j] = row[j-1]

for i in range(1, 501):
    for j in range(1, 501):
        for k in range(0, 19):
            sum = 0
            for l in range(0, 4):
                y = i + figure[k][l][0]
                x = j + figure[k][l][1]
                if paper[y][x] == 0:
                    sum = 0
                    break
                sum += paper[y][x]
            answer = max(answer, sum)
print(answer)
